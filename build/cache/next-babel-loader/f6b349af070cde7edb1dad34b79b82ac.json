{"ast":null,"code":"var _jsxFileName = \"/home/timiking/Apps/practx/practxweb/src/pages/practice/dashboard/grouplist.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Head from 'next/head';\nimport Link from 'next/link';\nimport { useEffect, useState } from 'react';\nimport { Container, Row, Col, Button, Spinner } from 'reactstrap';\nimport useSWR from 'swr';\nimport * as Api from '../../../redux/Api.js';\nimport { useSelector, connect } from 'react-redux';\nimport { Phone } from '@styled-icons/material';\nimport DashboardLayout from \"../../../layouts/DashboardLayout\";\nimport Titlebar from \"../../../components/Titlebar\";\nimport UserComponent from \"../../../components/UserComponent\";\n\nfunction GroupList(props) {\n  _s();\n\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  const {\n    0: practicesList,\n    1: setPracticesList\n  } = useState([]);\n  const {\n    data,\n    error\n  } = useSWR(['http://practxbestaging-env.eba-6m7puu5w.us-east-2.elasticbeanstalk.com/api/practices', props.user.token], Api.getPractice);\n  if (error) return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 20\n    }\n  }, \"failed to load\");\n\n  const approvePractice = async id => {\n    const url = \"http://practxbestaging-env.eba-6m7puu5w.us-east-2.elasticbeanstalk.com/api/practices/\" + id;\n    const approvedData = await Api.rejectPractice(url, props.user.token);\n    console.log(\"Trying to approve practice\", url, approvedData);\n  };\n\n  const rejectPractice = async id => {\n    const url = \"http://practxbestaging-env.eba-6m7puu5w.us-east-2.elasticbeanstalk.com/api/practices/\" + id;\n    const rejectData = await Api.rejectPractice(url, props.user.token);\n    console.log(\"Rejected Practice ------------------\", rejectData);\n  };\n\n  const approvedPractices = () => {\n    const approved = practicesList.filter(practice => practice.approvalStatus === \"approved\");\n    setPracticesList(approved);\n  };\n\n  const unapprovedPractices = () => {\n    setPracticesList(data.practices.rows);\n  };\n\n  useEffect(() => {\n    if (!data) {\n      console.log(data);\n    } else {\n      setPracticesList(data.practices.rows);\n    }\n  }, [data]);\n  return __jsx(DashboardLayout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 3\n    }\n  }, !data ? __jsx(Spinner, {\n    color: \"light\",\n    style: {\n      width: \"400px\",\n      height: \"400px\",\n      position: \"absolute\",\n      zIndex: \"1000\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }) : __jsx(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }\n  }, loading && __jsx(Spinner, {\n    color: \"dark\",\n    style: {\n      width: \"400px\",\n      height: \"400px\",\n      position: \"absolute\",\n      zIndex: \"1000\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 8\n    }\n  }), __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 6\n    }\n  }, __jsx(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }, __jsx(Titlebar, {\n    title: \"Group List\",\n    crumb: [\"Home\", \"Group\", \"Group list\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 8\n    }\n  }))), __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 6\n    }\n  }, __jsx(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }, __jsx(Button, {\n    onClick: approvedPractices,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 8\n    }\n  }, \" Approved Practices \")), __jsx(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }\n  }, __jsx(Button, {\n    onClick: unapprovedPractices,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 8\n    }\n  }, \" Not yet Approved Practices \"))), __jsx(Row, {\n    className: \"mt-3\",\n    sm: \"4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 6\n    }\n  }, !error && practicesList.map(practice => __jsx(UserComponent, {\n    practice: practice,\n    key: practice.id,\n    approve: approvePractice,\n    reject: rejectPractice,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 50\n    }\n  })))));\n}\n\n_s(GroupList, \"yvzCO7vTgV1v68+wBGzgxmYtXiQ=\", false, function () {\n  return [useSWR];\n});\n\n_c = GroupList;\n\nfunction mapStateToProps(state) {\n  const {\n    user\n  } = state.auth;\n  return {\n    user: user\n  };\n}\n\nexport default connect(mapStateToProps, null)(GroupList);\n\nvar _c;\n\n$RefreshReg$(_c, \"GroupList\");","map":{"version":3,"sources":["/home/timiking/Apps/practx/practxweb/src/pages/practice/dashboard/grouplist.js"],"names":["Head","Link","useEffect","useState","Container","Row","Col","Button","Spinner","useSWR","Api","useSelector","connect","Phone","DashboardLayout","Titlebar","UserComponent","GroupList","props","loading","setLoading","practicesList","setPracticesList","data","error","user","token","getPractice","approvePractice","id","url","approvedData","rejectPractice","console","log","rejectData","approvedPractices","approved","filter","practice","approvalStatus","unapprovedPractices","practices","rows","width","height","position","zIndex","map","mapStateToProps","state","auth"],"mappings":"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","sourcesContent":["import Head from 'next/head';\nimport Link from 'next/link';\n\nimport {useEffect, useState} from 'react';\nimport { Container, Row, Col, Button, Spinner} from 'reactstrap';\nimport useSWR from 'swr';\nimport * as Api from '../../../redux/Api.js';\nimport {useSelector, connect} from 'react-redux';\n\n\nimport { Phone } from '@styled-icons/material';\n\nimport DashboardLayout from \"../../../layouts/DashboardLayout\";\nimport Titlebar from \"../../../components/Titlebar\";\nimport UserComponent from \"../../../components/UserComponent\";\n\n\n\nfunction GroupList(props) {\n\n\tconst [loading, setLoading] = useState(false);\n\n\tconst [practicesList, setPracticesList] = useState([]);\n\n\n\n\tconst { data, error } = useSWR(['http://practxbestaging-env.eba-6m7puu5w.us-east-2.elasticbeanstalk.com/api/practices', props.user.token ], Api.getPractice)\n\t\n\tif (error) return <div>failed to load</div>\n\n\tconst approvePractice = async (id) =>{\n\t\tconst url = \"http://practxbestaging-env.eba-6m7puu5w.us-east-2.elasticbeanstalk.com/api/practices/\" + id ;\n\t\tconst approvedData = await Api.rejectPractice(url, props.user.token);\n\t\tconsole.log(\"Trying to approve practice\", url, approvedData)\n\t}\n\n\tconst rejectPractice = async (id) =>{\n\t\tconst url = \"http://practxbestaging-env.eba-6m7puu5w.us-east-2.elasticbeanstalk.com/api/practices/\" + id ;\n\t\tconst rejectData = await Api.rejectPractice(url, props.user.token);\n\t\tconsole.log(\"Rejected Practice ------------------\", rejectData)\n\t}\n\n\n\tconst approvedPractices = ()=>{\n\t\tconst approved = practicesList.filter((practice) => practice.approvalStatus === \"approved\");\n\t\tsetPracticesList(approved);\n\t}\n\n\tconst unapprovedPractices = ()=>{\n\t\tsetPracticesList(data.practices.rows);\n\t}\n\n\tuseEffect(()=>{\n\n\t\tif(!data){\n\n\t\t\tconsole.log(data);\n\n\t\t}else{\n\n\t\t\tsetPracticesList(data.practices.rows);\n\t\t}\n\n\t}, [data])\n\n\treturn (\n\n\n\t\t<DashboardLayout>\n\t\t{\n\t\t\t!data ? (\n\t\t\t\t<Spinner color=\"light\" \n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth:\"400px\", \n\t\t\t\t\t\theight:\"400px\", \n\t\t\t\t\t\tposition:\"absolute\", \n\t\t\t\t\t\tzIndex:\"1000\",\n\t\t\t\t\t}} \n\t\t\t\t/>\n\t\t\t)\n\t\t\t:(\n\t\t\t\t<React.Fragment>\n\n\t\t\t\t\t{loading && (\n\t\t\t\t\t\t\t<Spinner color=\"dark\" \n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\twidth:\"400px\", \n\t\t\t\t\t\t\t\t\theight:\"400px\", \n\t\t\t\t\t\t\t\t\tposition:\"absolute\", \n\t\t\t\t\t\t\t\t\tzIndex:\"1000\",\n\t\t\t\t\t\t\t\t}} \n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\n\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\n\t\t\t\t\t\t\t<Titlebar title=\"Group List\" crumb={[\"Home\", \"Group\", \"Group list\"]}/>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\n\t\t\t\t\t\t\t<Button onClick={approvedPractices} > Approved Practices </Button>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\n\t\t\t\t\t\t\t<Button onClick={unapprovedPractices} > Not yet Approved Practices </Button>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\n\t\t\t\t\t\n\t\t\t\t\t<Row className={\"mt-3\"} sm=\"4\">\n\n\t\t\t\t\t\t{!error && practicesList.map((practice) => <UserComponent practice={practice} key={practice.id} approve={approvePractice} reject={rejectPractice} />)}\n\n\t\t\t\t\t</Row>\n\t\t\t\t\n\t\t\t\t\t\n\n\t\t\t\t\t\n\t\t\t\t\t\n\n\t\t\t\t</React.Fragment>\n\t\t\t)\n\t\t}\n\t\t\t\n\n\t\t</DashboardLayout>\n\n\t)\n}\n\n\n\nfunction mapStateToProps(state) {\n  const { user } = state.auth\n  return { user: user }\n}\n\n\n\nexport default connect(mapStateToProps, null)(GroupList);"]},"metadata":{},"sourceType":"module"}