{"ast":null,"code":"import { call, put, takeEvery, takeLatest, all } from 'redux-saga/effects';\nimport * as t from \"./constants\";\nimport * as Api from '../Api.js';\nimport * as Actions from \"./actions\";\n/*------------------------LOGIN SAGA --------------------------------*/\n\nfunction* loginRootUser(action) {\n  try {\n    const user = yield call(Api.loginRootUser, action.payload);\n\n    if (user.message === \"Login successful!\") {\n      yield put(Actions.loginUserSuccess(user.root, user.token));\n      yield call(() => {\n        action.payload.router.push({\n          pathname: \"/dashboard/dashboard\"\n        });\n      });\n    } else {\n      yield call(() => {\n        action.payload.router.push({\n          pathname: \"/\"\n        });\n      });\n    }\n  } catch (e) {\n    console.log(e, \"Can not login from saggaggaggag\");\n  }\n}\n\nfunction* authSaga() {\n  /* --------------- LOGIN WATCHER ---------------------------*/\n  yield takeLatest(\"ROOT_LOGIN_WATCHER\", loginRootUser);\n}\n/*------------------------LOGOUTSAGA --------------------------------*/\n\n\nfunction* logoutRootUser() {\n  yield put({\n    type: t.ROOT_USER_LOGOUT\n  });\n}\n\nfunction* logoutWatcher() {\n  /* --------------- LOGIN WATCHER ---------------------------*/\n  yield takeLatest(\"LOGIN\", loginRootUser);\n}\n\nexport default authSaga;","map":{"version":3,"sources":["/home/timiking/Apps/practx/practxweb/src/redux/auth/sagas.js"],"names":["call","put","takeEvery","takeLatest","all","t","Api","Actions","loginRootUser","action","user","payload","message","loginUserSuccess","root","token","router","push","pathname","e","console","log","authSaga","logoutRootUser","type","ROOT_USER_LOGOUT","logoutWatcher"],"mappings":"AAAA,SAASA,IAAT,EAAeC,GAAf,EAAoBC,SAApB,EAA+BC,UAA/B,EAA2CC,GAA3C,QAAqD,oBAArD;AACA,OAAO,KAAKC,CAAZ,MAAmB,aAAnB;AACA,OAAO,KAAKC,GAAZ,MAAqB,WAArB;AACA,OAAO,KAAKC,OAAZ,MAAyB,WAAzB;AAIA;;AAEA,UAAUC,aAAV,CAAwBC,MAAxB,EAAgC;AAE7B,MAAI;AAEL,UAAMC,IAAI,GAAG,MAAMV,IAAI,CAACM,GAAG,CAACE,aAAL,EAAoBC,MAAM,CAACE,OAA3B,CAAvB;;AAEE,QAAID,IAAI,CAACE,OAAL,KAAiB,mBAArB,EAAyC;AAErC,YAAMX,GAAG,CAACM,OAAO,CAACM,gBAAR,CAAyBH,IAAI,CAACI,IAA9B,EAAoCJ,IAAI,CAACK,KAAzC,CAAD,CAAT;AAEA,YAAMf,IAAI,CAAC,MAAI;AAEPS,QAAAA,MAAM,CAACE,OAAP,CAAeK,MAAf,CAAsBC,IAAtB,CAA2B;AACzBC,UAAAA,QAAQ,EAAC;AADgB,SAA3B;AAIH,OANK,CAAV;AASD,KAbH,MAaO;AAED,YAAMlB,IAAI,CAAC,MAAI;AAEPS,QAAAA,MAAM,CAACE,OAAP,CAAeK,MAAf,CAAsBC,IAAtB,CAA2B;AACzBC,UAAAA,QAAQ,EAAC;AADgB,SAA3B;AAIH,OANK,CAAV;AAQH;AAGH,GA9BD,CA8BE,OAAOC,CAAP,EAAU;AACXC,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ,EAAe,iCAAf;AACA;AACH;;AAED,UAAUG,QAAV,GAAqB;AAAE;AAErB,QAAMnB,UAAU,CAAC,oBAAD,EAAuBK,aAAvB,CAAhB;AAED;AAID;;;AAEA,UAAUe,cAAV,GAA2B;AAEvB,QAAMtB,GAAG,CAAC;AAACuB,IAAAA,IAAI,EAAEnB,CAAC,CAACoB;AAAT,GAAD,CAAT;AACH;;AAED,UAAUC,aAAV,GAA0B;AAAE;AAE1B,QAAMvB,UAAU,CAAC,OAAD,EAAUK,aAAV,CAAhB;AAED;;AAQD,eAAec,QAAf","sourcesContent":["import { call, put, takeEvery, takeLatest, all} from 'redux-saga/effects';\nimport * as t from \"./constants\";\nimport * as Api from '../Api.js';\nimport * as Actions from \"./actions\";\n\n\n\n/*------------------------LOGIN SAGA --------------------------------*/\n\nfunction* loginRootUser(action) {\n\n   try {\n\n\t\tconst user = yield call(Api.loginRootUser, action.payload);\n\n    if (user.message === \"Login successful!\"){\n\n        yield put(Actions.loginUserSuccess(user.root, user.token ));\n\n        yield call(()=>{\n\n                action.payload.router.push({\n                  pathname:\"/dashboard/dashboard\"\n                })\n\n            }\n        );\n\n      }else{\n\n          yield call(()=>{\n\n                  action.payload.router.push({\n                    pathname:\"/\"\n                  })\n\n              }\n          );\n      }\n    \t\n\n   } catch (e) {\n\t   console.log(e, \"Can not login from saggaggaggag\")\n   }\n}\n\nfunction* authSaga() { /* --------------- LOGIN WATCHER ---------------------------*/\n\n  yield takeLatest(\"ROOT_LOGIN_WATCHER\", loginRootUser);\n\n}\n\n\n\n/*------------------------LOGOUTSAGA --------------------------------*/\n\nfunction* logoutRootUser() {\n\n    yield put({type: t.ROOT_USER_LOGOUT});\n}\n\nfunction* logoutWatcher() { /* --------------- LOGIN WATCHER ---------------------------*/\n\n  yield takeLatest(\"LOGIN\", loginRootUser);\n\n}\n\n\n\n\n\n\n\nexport default authSaga;\n"]},"metadata":{},"sourceType":"module"}